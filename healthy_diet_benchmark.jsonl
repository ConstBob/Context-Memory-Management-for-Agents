{"id": "bench_001", "user_id": "u01", "session_id": "u01_s2_short_snack", "length": "short", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["US units", "peanut allergy"], "inter_session": ["diet_profile from u01_s1_dayplan (bench_006): 1800 kcal, protein ≥140g, fiber ≥30g", "menu_history days used in u01_s1"]}, "turns": [{"role": "user", "text": "Got any post‑workout snacks around 300 cals with at least 25 g of protein? Keep it peanut‑free and not a repeat of what I’ve already had this week."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "At the office I’ve only got a microwave. Cups/oz are easiest."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Provide 3 distinct microwave‑friendly snack options, each 250–350 kcal and ≥25 g protein; all peanut‑free; no exact repeats from prior menu_history.", "must_use": ["calculator to confirm kcal/protein per option", "search for any new branded items' nutrition if used"], "must_not": ["peanuts or peanut products", "repeat exact snack names from menu_history"]}, "notes": "Tests allergy recall (peanut), unit preference (US cups/oz), equipment constraint (microwave), and no‑repeat variety using menu_history."}
{"id": "bench_002", "user_id": "u02", "session_id": "u02_s2_short_day", "length": "short", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["vegetarian", "lactose intolerant", "16:8 fasting 12:00–20:00"], "inter_session": ["from u02_s1_med3day (bench_007): 1600 kcal, protein ≥110 g, metric units, microwave + rice cooker only", "menu_history for this week"]}, "turns": [{"role": "user", "text": "Can you do me a veg day at my usual calories and protein, inside my 12–8 window? No cheese."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Keep it metric and please don’t repeat anything from earlier this week."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "3 meals (12:00, ~15:30, ~19:30). Total 1520–1680 kcal; protein ≥110 g; lactose‑free; vegetarian; metric.", "must_use": ["calculator for day total and per‑meal macros", "search for nutrition of at least one new ingredient/recipe"], "must_not": ["cheese/dairy", "dishes already in menu_history", "meals outside 12–20 window"]}, "notes": "Ambiguous ‘my usual’ requires recalling u02 anchors (1600 kcal, ≥110g protein). Tests fasting window timing, lactose‑free vegetarian, metric units, and variety."}
{"id": "bench_003", "user_id": "u04", "session_id": "u04_s2_short_day", "length": "short", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["pescatarian", "no tuna"], "inter_session": ["from u04_s1_med_day (bench_009): 2200 kcal target, protein ≥130 g, fiber ≥30 g, Japanese/Thai preference", "menu_history of last 3 days"]}, "turns": [{"role": "user", "text": "I need a fresh pescatarian day—same targets as last time. No tuna, and please don’t rerun any dishes from this week."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Total 2090–2310 kcal; protein ≥130 g; pescatarian; excludes tuna; no repeats vs. menu_history.", "must_use": ["calculator day total", "search for any new seafood or packaged item nutrition used"], "must_not": ["tuna", "repeat exact dishes"]}, "notes": "Ambiguous ‘same targets’ maps to u04 anchors (2200/≥130, fiber ≥30). Tests exclusion (no tuna) and variety."}
{"id": "bench_004", "user_id": "u03", "session_id": "u03_s2_short_swap", "length": "short", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["halal", "low‑glycemic focus", "US units"], "inter_session": ["from u03_s1_med_2day (bench_008): 2000 kcal, protein ≥150 g, fiber ≥30 g; grill + air fryer available", "menu_history day1–2"]}, "turns": [{"role": "user", "text": "Tonight, can we swap dinner for something grillable and halal? Roughly 600 cals, 40+ protein, and keep net carbs low like before—around 20 g or less. No repeats."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "One dinner idea 540–660 kcal, net carbs ≤20 g, protein ≥40 g; halal; grillable; not previously used.", "must_use": ["calculator to verify kcal/net carbs/protein", "search for carb counts if new marinade or packaged item"], "must_not": ["pork/alcohol marinades", "repeat dish"]}, "notes": "Tests low‑glycemic numeric cap, halal exclusion, equipment preference (grill), and no‑repeat variety."}
{"id": "bench_005", "user_id": "u01", "session_id": "u01_s4_short_breakfast", "length": "short", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["US units", "peanut allergy", "dislike: plain oats"], "inter_session": ["from u01_s1_dayplan (bench_006) and u01_s3_long_week (bench_011): 1800 kcal cut, protein ≥140 g", "menu_history breakfasts this week"]}, "turns": [{"role": "user", "text": "Quick breakfast around 400 cals with 30+ protein, no peanuts, and not oatmeal. US units."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "1–2 breakfast options 360–440 kcal, protein ≥30 g; no peanuts; not oatmeal; US units.", "must_use": ["calculator for macro/energy check", "search for nutrition if using new branded yogurt/cereal"], "must_not": ["peanuts", "oatmeal", "repeat from menu_history"]}, "notes": "Tests allergy and dislike handling, US units, and variety on a micro‑plan."}
{"id": "bench_006", "user_id": "u01", "session_id": "u01_s1_dayplan", "length": "medium", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["US units", "peanut allergy"], "inter_session": []}, "turns": [{"role": "user", "text": "I’m cutting—shoot for about 1800 kcals? Med/Mex vibes. Aim high on protein and fiber."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "I only cook on the stove/oven—no blender."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Also, no peanuts and please stick to cups/oz."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Total 1710–1890 kcal; protein ≥140 g; fiber ≥30 g; stove/oven compatible; peanut‑free; US units.", "must_use": ["calculator for per‑meal and daily totals", "search for at least one new ingredient/recipe nutrition"], "must_not": ["peanuts", "appliances outside stovetop/oven"]}, "notes": "Seeds u01 profile: peanut allergy, US units, Med/Mex preference, stove/oven only."}
{"id": "bench_007", "user_id": "u02", "session_id": "u02_s1_med3day", "length": "medium", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["vegetarian", "lactose intolerant", "metric", "16:8 fasting 12–20", "appliances: microwave + rice cooker"], "inter_session": []}, "turns": [{"role": "user", "text": "I want a 3‑day vegetarian plan at 1600 a day and at least 110 g protein, all within my 12–8 window."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Lactose bothers me, so no dairy—and make everything metric."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "I only have a microwave and a rice cooker."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "3-day plan, each day 1520–1680 kcal and protein ≥110 g; vegetarian; dairy‑free; metric; meals scheduled 12–20; uses microwave/rice cooker only.", "must_use": ["calculator for each day total", "search for protein counts of tofu/tempeh/legumes or packaged items"], "must_not": ["dairy", "stovetop/oven instructions", "repeat exact dishes across the 3 days"]}, "notes": "Establishes u02 fasting window, equipment limits, vegetarian/lactose‑free constraints, and metric units."}
{"id": "bench_008", "user_id": "u03", "session_id": "u03_s1_med_2day", "length": "medium", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["halal", "low‑glycemic", "US units", "equipment: grill + air fryer"], "inter_session": []}, "turns": [{"role": "user", "text": "Please make a 2‑day halal plan around 2000 a day with ≥150 g protein, low‑glycemic focus."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "I’d rather use the grill or the air fryer."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "US units if you can."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Two distinct days; each 1900–2100 kcal; protein ≥150 g; low‑glycemic; halal; grill/air‑fryer friendly; US units.", "must_use": ["calculator per day", "search for carb counts of sauces/marinades as needed"], "must_not": ["pork/alcohol", "repeat exact dishes across days"]}, "notes": "Seeds halal constraints, low‑glycemic focus, US units, and grill/air‑fryer preference for later sessions."}
{"id": "bench_009", "user_id": "u04", "session_id": "u04_s1_med_day", "length": "medium", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["pescatarian", "prefers Japanese/Thai", "US units", "fiber ≥30 g"], "inter_session": []}, "turns": [{"role": "user", "text": "Could you do a Japanese/Thai‑leaning pescatarian day—about 2200 kcals, solid protein (130+), and keep fiber decent?"}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Use US units."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Oh—and I don’t eat tuna."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Total 2090–2310 kcal; protein ≥130 g; fiber ≥30 g; pescatarian; no tuna; US units.", "must_use": ["calculator", "search for any new packaged sauces or noodles to verify nutrition (e.g., rice noodles, miso)"], "must_not": ["tuna", "repeat dishes in future sessions"]}, "notes": "Establishes u04’s no‑tuna exclusion, JP/TH flavor preference, and fiber floor."}
{"id": "bench_010", "user_id": "u02", "session_id": "u02_s3_med_rebalance", "length": "medium", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["metric", "vegetarian", "lactose‑free", "12–20 fasting window"], "inter_session": ["adjust day 2 of u02_s1_med3day (bench_007) −150 kcal, keep protein ≥110 g, avoid repeats"]}, "turns": [{"role": "user", "text": "Can you tweak my Day 2 from that 3‑day plan—trim roughly 150 kcals but keep protein where it was?"}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Still the microwave/rice cooker setup and the 12–8 window."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "And yeah, keep it vegetarian and lactose‑free."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Day 2 revised to original −150±30 kcal; protein still ≥110 g; vegetarian, lactose‑free; metric; 12–20 timing; no new repeats vs. Day 1/3.", "must_use": ["calculator for delta and new totals", "search for substitutions’ nutrition as needed"], "must_not": ["stovetop/oven", "dairy", "reusing a dish already on Day 1 or 3"]}, "notes": "Requires inter‑session recall of the prior Day 2 and precise caloric delta adjustment."}
{"id": "bench_011", "user_id": "u01", "session_id": "u01_s3_long_week", "length": "long", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["US units", "peanut allergy", "Mediterranean/Mexican preference"], "inter_session": ["build on u01_s1_dayplan (bench_006) menus and u01_s2_short_snack (bench_001) snack history; avoid repeats"]}, "turns": [{"role": "user", "text": "Let’s map out a full 7‑day cut at my usual numbers. No peanuts. US units."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Rotate proteins—no single main more than twice this week."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Mix Mediterranean and Mexican throughout."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "No blender; stove/oven only."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Please include portion sizes per meal and a grocery list grouped by category."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Also, don’t repeat anything I’ve already had this week."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "7 distinct daily menus; each 1710–1890 kcal; protein ≥140 g; fiber ≥30 g; peanut‑free; US units; max same primary protein ≤2/week; provide grocery list.", "must_use": ["calculator for each day and meal totals", "search for nutrition of at least 6 new items/recipes across the week"], "must_not": ["peanuts", "dish repeats vs. menu_history (u01_s1, u01_s2)", "blender‑dependent recipes"]}, "notes": "Long‑horizon variety and protein rotation; ambiguous ‘my usual’ mapped to 1800/≥140/≥30 anchors; equipment constraints; grocery list formatting."}
{"id": "bench_012", "user_id": "u02", "session_id": "u02_s4_long_2w", "length": "long", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 3, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["vegetarian", "lactose‑free", "metric", "12–20 fasting", "appliances: microwave + rice cooker"], "inter_session": ["continue after u02_s1 (bench_007), u02_s2 (bench_002), u02_s3 (bench_010); avoid repeats across weeks"]}, "turns": [{"role": "user", "text": "I want a 14‑day vegetarian plan at my normal calories and protein, inside my 12–8 window. No dairy."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "I dropped 1.2 kg last week—so for week 2, shave about 50 kcals per day but keep protein the same."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Microwave and rice cooker only, still metric, and don’t repeat dishes from week 1 or earlier sessions."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Spread proteins across tofu, tempeh, seitan, lentils—don’t overuse any single one."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Give me a split grocery list for week 1 vs week 2 with quantities in grams."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "Days 1–7: 1520–1680 kcal; Days 8–14: 1470–1630 kcal; protein ≥110 g daily; vegetarian, dairy‑free; metric; 12–20 timing; appliance limits respected; max any one protein source ≤3 across 14d; no repeats vs. prior sessions.", "must_use": ["calculator for daily totals and week‑2 kcal reduction", "search for nutrition of seitan and packaged legumes or sauces as used"], "must_not": ["dairy", "stovetop/oven steps", "repeated dishes"]}, "notes": "Tests calorie periodization with weight change, fasting window, equipment constraints, protein rotation caps, cross‑session variety, and metric units."}
{"id": "bench_013", "user_id": "u03", "session_id": "u03_s3_long_week", "length": "long", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.55}, "memory_dependencies": {"intra_session": ["halal", "low‑glycemic", "US units", "grill + air fryer"], "inter_session": ["avoid repeats from u03_s1 (bench_008) and u03_s2 (bench_004)"]}, "turns": [{"role": "user", "text": "I need a 7‑day halal plan at my usual 2000/150 targets, low‑glycemic. US units."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Cap dinners at 30 g net carbs and lunches at 40."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Prefer grill/air fryer, and avoid repeats from earlier."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "If fiber dips below 30 g on any day, bump veggies without blowing those carb caps."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Add a batch‑prep plan for proteins at the start of the week."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Show net carbs next to each meal."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "7 distinct days; total 1900–2100 kcal; protein ≥150 g; dinners net carbs ≤30 g; lunches ≤40 g; fiber ≥30 g/day; halal; grill/air‑fryer feasible; US units; no repeats vs. prior sessions.", "must_use": ["calculator for macros + net carbs", "search for net carb counts of sauces and sides (e.g., low‑sugar marinades)"], "must_not": ["pork/alcohol", "repeat dishes", "exceed carb caps at lunch/dinner"]}, "notes": "Combines glycemic carb caps, fiber floor with corrective step, equipment constraints, and explicit net‑carb display."}
{"id": "bench_014", "user_id": "u04", "session_id": "u04_s3_long_week", "length": "long", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.6}, "memory_dependencies": {"intra_session": ["pescatarian", "no tuna", "US units", "fiber ≥30 g", "Japanese/Thai preferences"], "inter_session": ["avoid repeats from u04_s1 (bench_009) and u04_s2 (bench_003)"]}, "turns": [{"role": "user", "text": "Let’s do a 7‑day pescatarian plan around 2200/day and 130+ protein, in a Japanese/Thai lane. Remember: no tuna."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Rotate the main seafood so none shows up more than twice."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "US units and try to keep fiber solid (think 30+)."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Watch the sodium—call it out per meal and keep the day under about 2300 mg."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Also give me a consolidated shopping list split into pantry vs fresh."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "7 distinct days; 2090–2310 kcal; protein ≥130 g; fiber ≥30 g; daily sodium ≤2300 mg (est.); pescatarian; no tuna; seafood rotation cap ≤2/wk; US units; JP/TH flavors.", "must_use": ["calculator for kcal/protein/fiber per day and weekly summary", "search for sodium of sauces (soy/tamari, fish sauce, curry pastes) and seafood nutrition"], "must_not": ["tuna", "repeat dishes", "ignore sodium estimates"]}, "notes": "Adds sodium estimation + seafood rotation cap with JP/TH flavor constraint and no‑tuna exclusion."}
{"id": "bench_015", "user_id": "u03", "session_id": "u03_s4_long_adjust", "length": "long", "required_tools": ["search", "calculator"], "rotation_policy": {"no_repeat_days": 7, "max_same_primary_protein_per_week": 2, "ingredient_jaccard_max": 0.55}, "memory_dependencies": {"intra_session": ["halal", "low‑glycemic", "US units", "grill + air fryer"], "inter_session": ["after u03_s3_long_week (bench_013): keep variety, net‑carb caps, and fiber min; avoid repeats"]}, "turns": [{"role": "user", "text": "For next week, keep the 2000 kcal and 150 g protein setup, but yogurt bowls weren’t keeping me full—eggs and chicken worked great."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Same carb caps as before: dinners ≤30 g net, lunches ≤40. US units. No repeats from last week."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Can we add about 10–15 g more protein to breakfast without raising daily calories?"}, {"role": "assistant", "text": ""}, {"role": "user", "text": "I want to batch‑prep two proteins—pick which and give me a cook‑once, use‑twice plan."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Add two snack options on training days only (Mon/Thu)."}, {"role": "assistant", "text": ""}, {"role": "user", "text": "Please show net carbs and fiber by meal with day totals."}, {"role": "assistant", "text": ""}], "ground_truth": {"final_answer_criteria": "7-day plan; 1900–2100 kcal/day; protein ≥150 g/day; breakfasts +10–15 g protein vs. prior norm; dinners ≤30 g net carbs; lunches ≤40 g; fiber ≥30 g/day; halal; US units; no repeats vs. last week; include batch‑prep for 2 proteins; training-day snacks only.", "must_use": ["calculator to reallocate calories and verify carb/fiber caps", "search for net carbs of alternative breakfast components if new"], "must_not": ["repeat dishes", "breach carb caps", "raise daily kcal despite breakfast protein increase"]}, "notes": "Personalization from satiety feedback; redistribute macros without raising total kcals; batch‑prep and training day logic."}
